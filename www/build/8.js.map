{"version":3,"sources":["../../src/pages/articulo/articulo.module.ts","../../src/pages/articulo/articulo.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ArticuloPage } from './articulo';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ArticuloPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ArticuloPage),\r\n  ]\r\n})\r\nexport class ArticuloPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/articulo/articulo.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, App } from 'ionic-angular';\r\nimport { Http } from '@angular/http';\r\nimport { Storage } from '@ionic/storage';\r\nimport { HomePage } from '../home/home';\r\n\r\n/**\r\n * Generated class for the ArticuloPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-articulo',\r\n  templateUrl: 'articulo.html',\r\n})\r\nexport class ArticuloPage {\r\n  anuncio: any={};\r\n  idAnuncio= \"\";\r\n  Usuario:any={};\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public nativestorage: Storage,\r\n    public modalCtrl: ModalController,\r\n    public http: Http,\r\n    public appCtrl: App\r\n    ) {\r\n      if (navParams.get(\"idAnuncio\") === undefined){\r\n        this.appCtrl.getRootNav().setRoot(HomePage);\r\n      }else{\r\n        this.idAnuncio =navParams.get(\"idAnuncio\");\r\n        this.ValidaUsuario();\r\n        this.ObtieneInfo();\r\n      }\r\n\r\n      \r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ArticuloPage');\r\n    \r\n  }\r\n\r\n  ObtieneInfo(){\r\n    var link = \"http://mauvalsa.com/CutStore/ObtieneAnuncioInfo.php\";\r\n    var info = JSON.stringify({'idAnuncio':this.idAnuncio});\r\n    this.http.post(link, info)\r\n    .subscribe(data =>{\r\n      this.anuncio = data.json();\r\n    },error =>{\r\n        console.log(error);\r\n      }\r\n      )\r\n  }\r\n\r\n  atras(){\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  IniciarSesion(){\r\n      let data = \"\";\r\n     // let options: ModalOptions = { cssClass: 'modalPage' } \r\n     let modal = this.modalCtrl.create('InicioSesionPage',data);\r\n     modal.onDidDismiss(data => {\r\n      \r\n    });\r\n    modal.present();\r\n  }\r\n\r\n\r\n   ValidaUsuario(){\r\n    this.nativestorage.get('Usuario').then((usr) => {\r\n      //alert(JSON.stringify(usr));\r\n      this.Usuario = JSON.parse(usr);\r\n      //alert(this.Usuario); \r\n    },err =>{\r\n      //alert(err);\r\n      console.log(err);\r\n    });\r\n    \r\n  }\r\n\r\n  enviarMensaje(){\r\n    \r\n    //alert(this.Usuario.accountId);\r\n    if(!this.Usuario.accountId){\r\n      alert(\"Parece que no estas registrado, es necesario iniciar sesion\");\r\n      this.IniciarSesion();\r\n    }else{\r\n     //let options: ModalOptions = { cssClass: 'modalPage' } \r\n     \r\n     let modal = this.modalCtrl.create('NuevoMensajePage',{accountId: this.Usuario.accountId, idAnuncio: this.idAnuncio});\r\n     modal.onDidDismiss(data => {\r\n       //alert(JSON.stringify(data));\r\n       \r\n      \r\n    });\r\n    modal.present();\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/articulo/articulo.ts"],"sourceRoot":""}