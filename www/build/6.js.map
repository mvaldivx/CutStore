{"version":3,"sources":["../../src/pages/inicio-sesion/inicio-sesion.module.ts","../../src/pages/inicio-sesion/inicio-sesion.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InicioSesionPage } from './inicio-sesion';\n\n@NgModule({\n  declarations: [\n    InicioSesionPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(InicioSesionPage),\n  ],\n})\nexport class InicioSesionPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inicio-sesion/inicio-sesion.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController , Platform} from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { RegistrarUsuarioPage } from '../registrar-usuario/registrar-usuario';\n\n/**\n * Generated class for the InicioSesionPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-inicio-sesion',\n  templateUrl: 'inicio-sesion.html',\n})\nexport class InicioSesionPage {\n  userInfo: any = {};\n  response: any={};\n  registrado =false;\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public http: Http,\n    public nativestorage: NativeStorage,\n    public modalCtrl:ModalController\n    ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad InicioSesionPage');\n\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  register(){\n    (<any>window).AccountKitPlugin.loginWithPhoneNumber({\n      useAccessToken: true,\n      defaultCountryCode: \"MX\",\n      facebookNotificationsEnabled: true,\n    }, (successdata) => {\n    (<any>window).AccountKitPlugin.getAccount((user)=>{\n      //alert(JSON.stringify(user));\n      this.userInfo = user;\n      this.registrado=true;\n      this.ValidaUsuario();\n    })\n  },(err)=>{\n      //alert(err);\n    });\n  }\n\n  ValidaUsuario(){\n    var link = \"http://mauvalsa.com/CutStore/ValidaUsuario.php\";\n    \n    var info = JSON.stringify({accountid:this.userInfo.accountId, 'tel': this.userInfo.phoneNumber});\n    //alert(JSON.stringify(this.userInfo));\n    this.http.post(link, info)\n    .subscribe(data =>{\n      this.response = data.json();\n      if(this.response.success === true){\n        this.nativestorage.setItem('Usuario',JSON.stringify({'accountId':this.userInfo.accountId, 'Telefono':this.userInfo.phoneNumber, 'Nombre':this.response.nombre})).then(\n          (success)=>{\n          this.nativestorage.getItem('Usuario').then((usr) => {\n          });\n        });\n        this.viewCtrl.dismiss();\n        location.reload();\n      }else{\n        this.registrado =true;\n        let modal = this.modalCtrl.create('RegistrarUsuarioPage',{userInfo:this.userInfo});\n        modal.present();\n        //alert(this.registrado);\n      }\n    },error => {\n      console.log(error);\n    })\n  }\n\n\n\n  \n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inicio-sesion/inicio-sesion.ts"],"sourceRoot":""}