{"version":3,"sources":["../../src/pages/articulo/articulo.module.ts","../../src/pages/articulo/articulo.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ArticuloPage } from './articulo';\n\n@NgModule({\n  declarations: [\n    ArticuloPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ArticuloPage),\n  ]\n})\nexport class ArticuloPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/articulo/articulo.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ModalOptions, App } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { HomePage } from '../home/home';\n\n/**\n * Generated class for the ArticuloPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-articulo',\n  templateUrl: 'articulo.html',\n})\nexport class ArticuloPage {\n  anuncio: any={};\n  idAnuncio= \"\";\n  Usuario:any={};\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public nativestorage: NativeStorage,\n    public modalCtrl: ModalController,\n    public http: Http,\n    public appCtrl: App\n    ) {\n      if (navParams.get(\"idAnuncio\") === undefined){\n        this.appCtrl.getRootNav().setRoot(HomePage);\n      }else{\n        this.idAnuncio =navParams.get(\"idAnuncio\");\n        this.ValidaUsuario();\n        this.ObtieneInfo();\n      }\n\n      \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ArticuloPage');\n    \n  }\n\n  ObtieneInfo(){\n    var link = \"http://mauvalsa.com/CutStore/ObtieneAnuncioInfo.php\";\n    var info = JSON.stringify({'idAnuncio':this.idAnuncio});\n    this.http.post(link, info)\n    .subscribe(data =>{\n      this.anuncio = data.json();\n    },error =>{\n        console.log(error);\n      }\n      )\n  }\n\n  atras(){\n    this.navCtrl.pop();\n  }\n\n  IniciarSesion(){\n      let data = \"\";\n      let options: ModalOptions = { cssClass: 'modalPage' } \n     let modal = this.modalCtrl.create('InicioSesionPage',data);\n     modal.onDidDismiss(data => {\n      \n    });\n    modal.present();\n  }\n\n\n   ValidaUsuario(){\n    this.nativestorage.getItem('Usuario').then(usr => {\n      //alert(JSON.stringify(usr));\n      this.Usuario = JSON.parse(usr);\n      //alert(this.Usuario); \n    },err =>{\n      //alert(err);\n      console.log(err);\n    });\n    \n  }\n\n  enviarMensaje(){\n    \n    //alert(this.Usuario.accountId);\n    if(!this.Usuario.accountId){\n      alert(\"Parece que no estas registrado, es necesario iniciar sesion\");\n      this.IniciarSesion();\n    }else{\n     let options: ModalOptions = { cssClass: 'modalPage' } \n     \n     let modal = this.modalCtrl.create('NuevoMensajePage',{accountId: this.Usuario.accountId, idAnuncio: this.idAnuncio});\n     modal.onDidDismiss(data => {\n       //alert(JSON.stringify(data));\n       \n      \n    });\n    modal.present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/articulo/articulo.ts"],"sourceRoot":""}